---
id: create-api-key
title: "Create an API key"
description: "The Create API Key API lets you create new API keys, which you can bind to one or multiple corpora. You can also decide whether to designate each key for specific access like personal API keys, only querying (read-only) or both querying and indexing (read-write)."
sidebar_label: "Create an API key"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an API key"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/api_keys"}
  context={"endpoint"}
>
  
</MethodEndpoint>



The Create API Key API lets you create new API keys, which you can bind to one or multiple corpora. You can also decide whether to designate each key for specific access like personal API keys, only querying (read-only) or both querying and indexing (read-write).

This capability is useful in scenarios where you have applications that require different levels of access to corpora data. For example, you might create a read-only API key for an application that only needs to query data.

:::note
For more information about the different types of API keys, see [API Key Management](/docs/deploy-and-scale/authentication/api-key-management).
:::

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Request to create a new API key for authenticating with the platform.","type":"object","properties":{"name":{"description":"The human-readable name of the API key.","type":"string"},"api_roles":{"description":"Customer-level roles for this API key.","type":"array","items":{"description":"Roles that a user or an app client can take on.","type":"string","enum":["owner","administrator","billing_administrator","corpus_administrator","corpus_developer","agent_administrator","agent_viewer","agent_developer","agent_user"],"title":"ApiRole"}},"api_key_role":{"deprecated":true,"description":"Deprecated: Use api_roles instead. Legacy role of the API key.","type":"string","enum":["serving","serving_and_indexing","personal"],"title":"ApiKeyRole"},"corpus_keys":{"deprecated":true,"description":"Deprecated: Use corpus_roles instead. Corpora this API key has roles on.","type":"array","items":{"description":"A user-provided key for a corpus.","type":"string","example":"my-corpus","pattern":"[a-zA-Z0-9_\\=\\-]+$","maxLength":50,"title":"CorpusKey"}},"corpus_roles":{"description":"Corpus-specific role assignments for this API key.","type":"array","items":{"description":"Corpus-specific role assignment.","type":"object","properties":{"corpus_key":{"description":"The key of the corpus this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific corpus.","type":"string","enum":["owner","administrator","viewer","editor"]}},"required":["corpus_key","role"],"title":"CorpusRole"}},"agent_roles":{"description":"Agent-specific role assignments for this API key.","type":"array","items":{"description":"Agent-specific role assignment.","type":"object","properties":{"agent_key":{"description":"The ID of the agent this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific agent.\n* `agent_administrator` - Full administrative access to the agent including deletion and configuration.\n* `agent_viewer` - Read-only access to view agent configuration, sessions, events, instructions, and tools.\n* `agent_developer` - Can modify agent configuration, create/manage sessions, update tools and instructions.\n* `agent_user` - Limited access to interact with the agent by creating sessions and sending inputs. Cannot view agent configuration or modify settings.\n","type":"string","enum":["agent_administrator","agent_viewer","agent_developer","agent_user"]}},"required":["agent_key","role"],"title":"AgentRole"}}},"required":["name"],"title":"CreateApiKeyRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The response includes the assigned API key ID, name, secret key, enabled status, API key role, and API policy.","content":{"application/json":{"schema":{"description":"An API key used to authenticate and authorize requests to the Vectara platform.","type":"object","properties":{"id":{"description":"The ID of the API key.","type":"string","pattern":"aky_.*"},"name":{"description":"The human-readable name of the API key.","type":"string"},"secret_key":{"description":"The key used in API requests. The key should be kept secure.","type":"string"},"enabled":{"description":"If this API key is enabled.","type":"boolean"},"api_roles":{"description":"Customer-level roles for this API key.","type":"array","items":{"description":"Roles that a user or an app client can take on.","type":"string","enum":["owner","administrator","billing_administrator","corpus_administrator","corpus_developer","agent_administrator","agent_viewer","agent_developer","agent_user"],"title":"ApiRole"}},"api_key_role":{"deprecated":true,"description":"Deprecated: Use api_roles instead. Legacy role of the API key.","type":"string","enum":["serving","serving_and_indexing","personal"],"title":"ApiKeyRole"},"corpus_roles":{"description":"Corpus-specific role assignments for this API key.","type":"array","items":{"description":"Corpus-specific role assignment.","type":"object","properties":{"corpus_key":{"description":"The key of the corpus this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific corpus.","type":"string","enum":["owner","administrator","viewer","editor"]}},"required":["corpus_key","role"],"title":"CorpusRole"}},"agent_roles":{"description":"Agent-specific role assignments for this API key.","type":"array","items":{"description":"Agent-specific role assignment.","type":"object","properties":{"agent_key":{"description":"The ID of the agent this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific agent.\n* `agent_administrator` - Full administrative access to the agent including deletion and configuration.\n* `agent_viewer` - Read-only access to view agent configuration, sessions, events, instructions, and tools.\n* `agent_developer` - Can modify agent configuration, create/manage sessions, update tools and instructions.\n* `agent_user` - Limited access to interact with the agent by creating sessions and sending inputs. Cannot view agent configuration or modify settings.\n","type":"string","enum":["agent_administrator","agent_viewer","agent_developer","agent_user"]}},"required":["agent_key","role"],"title":"AgentRole"}},"api_policy":{"description":"What actions a principal can take on the Vectara platform.","type":"object","properties":{"name":{"description":"The name of the API role.","type":"string"},"allowed_operations":{"description":"Operations that are allowed by the API role. Each operation may only allow certain resources that are described by a resource path to resource value map. If the value is null, then the operation is allowed on any resource.","type":"object","additionalProperties":{"description":"Policy to allow operations if only using the specified resource.","type":"object","properties":{"allow_any_resource":{"description":"If any resource is allowed for the operation.","type":"boolean","default":true},"allowed_resources":{"description":"Object with keys of resource paths to a list of allowed resources. A resource path starts with either body, path, or implicit. A body or path resource is within the operation body, and an implicit resource is a resource implied by the request.","type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}},"required":["allow_any_resource"],"title":"ApiOperationPolicy"}}},"required":["name","allowed_operations"],"title":"ApiPolicy"}},"title":"ApiKey"}}}},"400":{"description":"API key creation request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow creating the API key.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      