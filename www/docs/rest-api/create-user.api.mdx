---
id: create-user
title: "Create a user in the current customer account"
description: "Create a user for the current customer account. For example, a company wants to onboard new team members efficiently and this endpoint lets you streamline the process by adding new users programmatically, assigning appropriate roles, and setting up access permissions."
sidebar_label: "Create a user in the current customer account"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create a user in the current customer account"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v2/users"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a user for the current customer account. For example, a company wants to onboard new team members efficiently and this endpoint lets you streamline the process by adding new users programmatically, assigning appropriate roles, and setting up access permissions.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"header","name":"Request-Timeout","description":"The API will make a best effort to complete the request in the specified seconds or time out.","schema":{"type":"integer","minimum":1},"required":false},{"in":"header","name":"Request-Timeout-Millis","description":"The API will make a best effort to complete the request in the specified milliseconds or time out.","schema":{"type":"integer","minimum":1}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Request to create a new user account in the system.","type":"object","properties":{"email":{"description":"The email address for the user.","type":"string","format":"email"},"username":{"description":"The username for the user. The value defaults to the email.","type":"string"},"description":{"description":"The description of the user.","type":"string"},"api_roles":{"description":"The customer-level role names assigned to the user.","type":"array","items":{"description":"Roles that a user or an app client can take on.","type":"string","enum":["owner","administrator","billing_administrator","corpus_administrator","corpus_developer","agent_administrator","agent_viewer","agent_developer","agent_user"],"title":"ApiRole"}},"corpus_roles":{"description":"Corpus-specific role assignments for the user.","type":"array","items":{"description":"Corpus-specific role assignment.","type":"object","properties":{"corpus_key":{"description":"The key of the corpus this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific corpus.","type":"string","enum":["owner","administrator","viewer","editor"]}},"required":["corpus_key","role"],"title":"CorpusRole"}},"agent_roles":{"description":"Agent-specific role assignments for the user.","type":"array","items":{"description":"Agent-specific role assignment.","type":"object","properties":{"agent_key":{"description":"The ID of the agent this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific agent.\n* `agent_administrator` - Full administrative access to the agent including deletion and configuration.\n* `agent_viewer` - Read-only access to view agent configuration, sessions, events, instructions, and tools.\n* `agent_developer` - Can modify agent configuration, create/manage sessions, update tools and instructions.\n* `agent_user` - Limited access to interact with the agent by creating sessions and sending inputs. Cannot view agent configuration or modify settings.\n","type":"string","enum":["agent_administrator","agent_viewer","agent_developer","agent_user"]}},"required":["agent_key","role"],"title":"AgentRole"}}},"required":["email"],"title":"CreateUserRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"The response returns a `user` object that contains the assigned user ID, email, username, enabled status, description, creation timestamp, and assigned API roles.\n","content":{"application/json":{"schema":{"allOf":[{"description":"A user account with associated profile information and permissions.","type":"object","properties":{"id":{"description":"The Vectara ID for the user.","type":"string","pattern":"usr_.+"},"email":{"description":"The email address for the user.","type":"string","format":"email"},"username":{"description":"The username for the user.","type":"string"},"enabled":{"description":"Indicates whether the user is enabled or disabled.","type":"boolean"},"description":{"description":"The description of the user.","type":"string"},"created_at":{"description":"When the user was created.","type":"string","format":"date-time"},"updated_at":{"description":"When a user property was last updated.","type":"string","format":"date-time"},"api_roles":{"description":"The customer-level role names of the user.","type":"array","items":{"description":"Roles that a user or an app client can take on.","type":"string","enum":["owner","administrator","billing_administrator","corpus_administrator","corpus_developer","agent_administrator","agent_viewer","agent_developer","agent_user"],"title":"ApiRole"}},"corpus_roles":{"description":"Corpus-specific role assignments for the user.","type":"array","items":{"description":"Corpus-specific role assignment.","type":"object","properties":{"corpus_key":{"description":"The key of the corpus this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific corpus.","type":"string","enum":["owner","administrator","viewer","editor"]}},"required":["corpus_key","role"],"title":"CorpusRole"}},"agent_roles":{"description":"Agent-specific role assignments for the user.","type":"array","items":{"description":"Agent-specific role assignment.","type":"object","properties":{"agent_key":{"description":"The ID of the agent this role applies to.","type":"string"},"role":{"description":"The role assigned for this specific agent.\n* `agent_administrator` - Full administrative access to the agent including deletion and configuration.\n* `agent_viewer` - Read-only access to view agent configuration, sessions, events, instructions, and tools.\n* `agent_developer` - Can modify agent configuration, create/manage sessions, update tools and instructions.\n* `agent_user` - Limited access to interact with the agent by creating sessions and sending inputs. Cannot view agent configuration or modify settings.\n","type":"string","enum":["agent_administrator","agent_viewer","agent_developer","agent_user"]}},"required":["agent_key","role"],"title":"AgentRole"}},"api_policy":{"description":"What actions a principal can take on the Vectara platform.","type":"object","properties":{"name":{"description":"The name of the API role.","type":"string"},"allowed_operations":{"description":"Operations that are allowed by the API role. Each operation may only allow certain resources that are described by a resource path to resource value map. If the value is null, then the operation is allowed on any resource.","type":"object","additionalProperties":{"description":"Policy to allow operations if only using the specified resource.","type":"object","properties":{"allow_any_resource":{"description":"If any resource is allowed for the operation.","type":"boolean","default":true},"allowed_resources":{"description":"Object with keys of resource paths to a list of allowed resources. A resource path starts with either body, path, or implicit. A body or path resource is within the operation body, and an implicit resource is a resource implied by the request.","type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}},"required":["allow_any_resource"],"title":"ApiOperationPolicy"}}},"required":["name","allowed_operations"],"title":"ApiPolicy"}},"title":"User"},{"properties":{"one_time_code":{"type":"string","description":"A one time code for the newly created user to create a password. This is optional, and is only populated for some Vectara deployments."},"one_time_code_link":{"type":"string","description":"The link where to enter the `one_time_code`. This is optional, and is only populated for some Vectara deployments."}}}]}}}},"400":{"description":"User creation request was malformed.","content":{"application/json":{"schema":{"description":"Error returned when a request contains invalid parameters or violates schema validation.","type":"object","properties":{"field_errors":{"description":"The errors that relate to specific fields in the request.","type":"object","additionalProperties":{"type":"string"}},"messages":{"type":"array","items":{"title":"message","type":"string"}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"BadRequestError"}}}},"403":{"description":"Permissions do not allow retrieving a user.","content":{"application/json":{"schema":{"description":"A general error response with an error code and message.","type":"object","properties":{"messages":{"description":"The messages describing why the error occurred.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}},"request_id":{"description":"The ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      